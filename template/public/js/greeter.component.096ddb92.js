"use strict";(self["webpackChunkmoleculerspa"]=self["webpackChunkmoleculerspa"]||[]).push([[203],{1576:(e,l,t)=>{t.r(l),t.d(l,{default:()=>D});var n=t(3673),o=t(2323);const a=(0,n.HX)("data-v-11b1377b");(0,n.dD)("data-v-11b1377b");const s={class:"shadow-11"},r=(0,n.Uk)(" Action ' "),u=(0,n.Uk)("' "),c={class:"content"},d={class:"request"},i=(0,n.Wm)("h4",null,"Request:",-1),m={key:0,class:"parameters"},p=(0,n.Wm)("h4",null,"Parameters:",-1),f={key:1,class:"response"},h=(0,n.Uk)(" Response: ");(0,n.Cn)();const w=a(((e,l,t,w,g,v)=>{const b=(0,n.up)("q-btn"),k=(0,n.up)("q-input"),y=(0,n.up)("q-badge");return(0,n.wg)(),(0,n.j4)("section",null,[((0,n.wg)(!0),(0,n.j4)(n.HY,null,(0,n.Ko)(e.requests,(l=>((0,n.wg)(),(0,n.j4)("fieldset",{key:l.id},[(0,n.Wm)("legend",s,[r,(0,n.Wm)("code",null,(0,o.zw)(l.action),1),u]),(0,n.Wm)("div",c,[(0,n.Wm)("div",d,[i,(0,n.Wm)("code",null,[(0,n.Uk)((0,o.zw)(l.method||"GET")+" ",1),(0,n.Wm)("a",{target:"_blank",href:l.rest},(0,o.zw)(l.rest),9,["href"])]),(0,n.Wm)(b,{color:"secondary",icon:"send",label:"Execute",class:"q-ml-md shadow-11",onClick:t=>e.callAction(l)},null,8,["onClick"])]),l.fields?((0,n.wg)(),(0,n.j4)("div",m,[p,((0,n.wg)(!0),(0,n.j4)(n.HY,null,(0,n.Ko)(l.fields,(l=>((0,n.wg)(),(0,n.j4)("div",{class:"field",key:l.field},[(0,n.Wm)(k,{clearable:"","clear-icon":"close",filled:"",color:"purple-12",modelValue:e.fields[l.model],"onUpdate:modelValue":t=>e.fields[l.model]=t,label:l.label},null,8,["modelValue","onUpdate:modelValue","label"])])))),128))])):(0,n.kq)("",!0),l.status?((0,n.wg)(),(0,n.j4)("div",f,[(0,n.Wm)("h4",null,[h,(0,n.Wm)(y,{color:l.status<400?"green":"red"},{default:a((()=>[(0,n.Uk)((0,o.zw)(l.status),1)])),_:2},1032,["color"]),(0,n.Wm)(y,{color:"black",class:"q-ml-sm"},{default:a((()=>[(0,n.Uk)((0,o.zw)(e.humanize(l.duration)),1)])),_:2},1024)]),(0,n.Wm)("pre",null,[(0,n.Wm)("code",null,(0,o.zw)(l.response),1)])])):(0,n.kq)("",!0)])])))),128))])}));var g=t(1959),v=t(9582),b=t(1768),k=function(e,l,t,n){function o(e){return e instanceof t?e:new t((function(l){l(e)}))}return new(t||(t=Promise))((function(t,a){function s(e){try{u(n.next(e))}catch(l){a(l)}}function r(e){try{u(n["throw"](e))}catch(l){a(l)}}function u(e){e.done?t(e.value):o(e.value).then(s,r)}u((n=n.apply(e,l||[])).next())}))};let y=(0,g.qj)([{id:"hello",action:"v1.greeter.hello",rest:"/api/v1/greeter/hello",response:null,status:null,duration:null},{id:"welcome",action:"v1.greeter.welcome",rest:"/api/v1/greeter/welcome",method:"POST",fields:[{field:"name",label:"Name",type:"text",paramType:"param",model:"welcomeName"}],response:null,status:null,duration:null}]);const W={welcomeName:"John",productID:null,productName:"Xiamoi Mi 9T",productPrice:299,productValue:1};function q(e){return e>1500?`${(e/1500).toFixed(2)} s`:`${e} ms`}function T(e){return W[e.model]}function j(e,l,t){return k(this,void 0,void 0,(function*(){return yield(0,b.axios)({method:l,url:e,data:t})}))}function U(e){const l=Date.now();let t=e.rest;const n=e.method||"GET";let o=null,a=null;return e.fields&&(o={},a={},e.fields.forEach((e=>{const l=T(e);"body"==e.paramType?o[e.field]=l:"param"==e.paramType?a[e.field]=l:"url"==e.paramType&&(t=t.replace(`:${e.field}`,l))})),o&&"GET"==n&&(o=null),a&&(t+="?"+new URLSearchParams(a).toString())),j(t,n,o).then((t=>(e.status=t.status,e.duration=Date.now()-l,e.response=t.data))).catch((t=>{e.status="ERR",e.duration=Date.now()-l,e.response=t.message,console.log(t)}))}const z=(0,n.aZ)({name:"GreeterComponent",setup(){return(0,v.iS)((()=>{y=(0,g.qj)([{id:"hello",action:"v1.greeter.hello",rest:"/api/v1/greeter/hello",response:null,status:null,duration:null},{id:"welcome",action:"v1.greeter.welcome",rest:"/api/v1/greeter/welcome",method:"POST",fields:[{field:"name",label:"Name",type:"text",paramType:"param",model:"welcomeName"}],response:null,status:null,duration:null}])})),{requests:y,callAction:U,fields:W,humanize:q}}});var x=t(4607),C=t(4842),E=t(9721),N=t(7518),P=t.n(N);z.render=w,z.__scopeId="data-v-11b1377b";const D=z;P()(z,"components",{QBtn:x.Z,QInput:C.Z,QBadge:E.Z})}}]);