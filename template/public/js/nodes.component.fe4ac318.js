"use strict";(self["webpackChunkmoleculerspa"]=self["webpackChunkmoleculerspa"]||[]).push([[12],{7431:(e,o,t)=>{t.r(o),t.d(o,{default:()=>W});var a=t(3673),n=t(2323);const l=(0,a.HX)("data-v-31991304");(0,a.dD)("data-v-31991304");const r={class:"q-pa-md"};(0,a.Cn)();const s=l(((e,o,t,s,i,p)=>{const c=(0,a.up)("q-th"),u=(0,a.up)("q-tr"),d=(0,a.up)("q-td"),m=(0,a.up)("q-badge"),f=(0,a.up)("q-chip"),w=(0,a.up)("q-table");return(0,a.wg)(),(0,a.j4)("div",r,[(0,a.Wm)(w,{title:"Node Status",rows:e.nodes,columns:e.columns,"row-key":"name"},{header:l((e=>[(0,a.Wm)(u,{props:e},{default:l((()=>[((0,a.wg)(!0),(0,a.j4)(a.HY,null,(0,a.Ko)(e.cols,(o=>((0,a.wg)(),(0,a.j4)(c,{key:o.name,props:e},{default:l((()=>[(0,a.Uk)((0,n.zw)(o.label),1)])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])])),body:l((e=>[(0,a.Wm)(u,{props:e},{default:l((()=>[(0,a.Wm)(d,{key:"id",props:e},{default:l((()=>[(0,a.Uk)((0,n.zw)(e.row.id),1)])),_:2},1032,["props"]),(0,a.Wm)(d,{key:"type",props:e},{default:l((()=>[(0,a.Uk)((0,n.zw)(e.row.client.type),1)])),_:2},1032,["props"]),(0,a.Wm)(d,{key:"version",props:e},{default:l((()=>[e.row.client.version?((0,a.wg)(),(0,a.j4)(m,{key:0,transparent:"",color:"black"},{default:l((()=>[(0,a.Uk)((0,n.zw)("v"+e.row.client.version),1)])),_:2},1024)):(0,a.kq)("",!0)])),_:2},1032,["props"]),(0,a.Wm)(d,{key:"ip",props:e},{default:l((()=>[(0,a.Uk)((0,n.zw)(e.row.ipList[0]),1)])),_:2},1032,["props"]),(0,a.Wm)(d,{key:"hostname",props:e},{default:l((()=>[(0,a.Uk)((0,n.zw)(e.row.hostname),1)])),_:2},1032,["props"]),(0,a.Wm)(d,{key:"status",props:e},{default:l((()=>[(0,a.Wm)(f,{class:"glossy",square:"",color:e.row.available?"teal":"red","text-color":"white",icon:e.row.available?"done":"priority_high"},{default:l((()=>[(0,a.Uk)((0,n.zw)(e.row.available?"Online":"Offline"),1)])),_:2},1032,["color","icon"])])),_:2},1032,["props"]),(0,a.Wm)(d,{key:"cpu",props:e},{default:l((()=>[(0,a.Uk)((0,n.zw)(null!=e.row.cpu?Number(e.row.cpu).toFixed(0)+"%":"-"),1),(0,a.Wm)("div",{class:"bar",style:{width:null!=e.row.cpu?e.row.cpu+"%":"0",backgroundColor:e.row.cpu>="60"?"rgba(207,0,15,0.6)":"rgba(0,0,0,0.3)"}},null,4)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","columns"])])}));var i=t(1959),p=t(9582),c=t(8825),u=t(1768),d=function(e,o,t,a){function n(e){return e instanceof t?e:new t((function(o){o(e)}))}return new(t||(t=Promise))((function(t,l){function r(e){try{i(a.next(e))}catch(o){l(o)}}function s(e){try{i(a["throw"](e))}catch(o){l(o)}}function i(e){e.done?t(e.value):n(e.value).then(r,s)}i((a=a.apply(e,o||[])).next())}))};const m=[{name:"id",required:!0,label:"Node ID",align:"left",field:e=>e.id,format:e=>`${e}`,sortable:!0},{name:"type",align:"center",label:"Type",field:"client.type",sortable:!0},{name:"version",align:"center",label:"Version",field:"client.version",sortable:!0},{name:"ip",align:"center",label:"IP",field:"ipList",sortable:!0},{name:"hostname",align:"center",label:"Hostname",field:"hostname",sortable:!0},{name:"status",align:"center",label:"Status",field:"available",sortable:!0},{name:"cpu",align:"center",label:"CPU",field:"cpu",sortable:!0}],f=(0,a.aZ)({name:"CompositionComponent",setup(){const e=(0,c.Z)(),o=(0,i.iH)([]);let t;function n(o){return d(this,void 0,void 0,(function*(){return yield u.axios.get(o).then((e=>e.data)).catch((()=>{e.notify({color:"negative",position:"top",message:"Loading failed",icon:"report_problem"})}))}))}function l(){n("/api/~node/list").then((e=>{e.sort(((e,o)=>e.id.localeCompare(o.id))),o.value=e}))}return(0,a.bv)((()=>{t=setInterval((()=>{l()}),2e3)})),(0,p.iS)(((e,o,a)=>{clearInterval(t),a()})),{nodes:o,columns:m}}});var w=t(4877),b=t(8186),v=t(2414),k=t(3884),h=t(9721),y=t(7030),g=t(7518),_=t.n(g);f.render=s,f.__scopeId="data-v-31991304";const W=f;_()(f,"components",{QTable:w.Z,QTr:b.Z,QTh:v.Z,QTd:k.Z,QBadge:h.Z,QChip:y.Z})}}]);